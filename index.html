<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: cornsilk;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
		line-height:1;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 0;
		width:100%;
        }
        .product {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin: 10px;
            text-align: center;
            width: 140px;
            padding: 10px;
        }
        .product img {
            max-width: 100%;
            height: 140px;
            border-radius: 5px;
        }
        .product h3 {
            font-size: 20px;
            margin: 10px 0;
        }
        .product p {
            color: #666;
            font-size: 16px;
        }
        .product button {
            background-color: #007BFF;
            border: none;
            color: white;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin: 5px 0;
        }
        .product button:hover {
            background-color: #0056b3;
        }
        .cart {
            margin: 20px;
            padding: 15px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .cart h2 {
            margin-top: 0;
        }
        .cart ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .cart ul li {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        .checkout-btn {
            background-color: #28a745;
            border: none;
            color: white;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            display: block;
            width: 100%;
            text-align: center;
        }
        .checkout-btn:hover {
            background-color: #218838;
        }
	div {
		width:140px;
	}
    </style>
</head>
<body>
    <header >
        <h1 ><span style="color:red;">One</span> <span style="color:green;">Click</span> <span style="color:blue;">Store</span></h1>
	<p style="color:blue;line-height:1;"><b>Company Address: </b><i>Bonbon Upper, Loboc, Bohol</i></p>
    </header>
    <div class="container">
        <!-- Product 1 -->
        <div class="product">
            <img src="images/glossypp.jpg" alt="Product 1">
            <h3>Glossy Photo Paper (Long)</h3>
            <p>₱10.00</p>
            <p>Stock: <span id="stock-product-1">10</span></p>
            <input type="number" id="qty-product-1" min="1" max="10" value="1">
            <button id="btn-product-1" onclick="addToCart('Glossy Photo(L)', 10, 1)">Add to Cart</button>
            <button id="cancel-product-1" onclick="cancelFromCart(1)" disabled>Cancel</button>
        </div>
        <!-- Product 2 -->
        <div class="product">
            <img src="images/vellum.jpg" alt="Product 2">
            <h3>Vellum Board (Short)</h3>
            <p>₱7.00</p>
            <p>Stock: <span id="stock-product-2">10</span></p>
            <input type="number" id="qty-product-2" min="1" max="10" value="1">
            <button id="btn-product-2" onclick="addToCart('Vellum Brd(S)', 7, 2)">Add to Cart</button>
            <button id="cancel-product-2" onclick="cancelFromCart(2)" disabled>Cancel</button>
        </div>
<!-- Product 3 -->
        <div class="product">
            <img src="images/ballpen.jpg" alt="Product 3">
            <h3>Ballpen Black</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-3">5</span></p>
            <input type="number" id="qty-product-3" min="1" max="5" value="1">
            <button id="btn-product-3" onclick="addToCart('Ballpen(Bk)', 5, 3)">Add to Cart</button>
            <button id="cancel-product-3" onclick="cancelFromCart(3)" disabled>Cancel</button>
        </div>

<!-- Product 4 -->
        <div class="product">
            <img src="images/ballpen.jpg">
            <h3>Ballpen Blue</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-4">4</span></p>
            <input type="number" id="qty-product-4" min="1" max="4" value="1">
            <button id="btn-product-4" onclick="addToCart('Ballpen(Bl)', 5, 4)">Add to Cart</button>
            <button id="cancel-product-4" onclick="cancelFromCart(4)" disabled>Cancel</button>
        </div>


<!-- Product 5 -->
        <div class="product">
            <img src="images/ballpen.jpg">
            <h3>Ballpen Red</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-5">2</span></p>
            <input type="number" id="qty-product-5" min="1" max="2" value="1">
            <button id="btn-product-5" onclick="addToCart('Ballpen(Rd)', 5, 5)">Add to Cart</button>
            <button id="cancel-product-5" onclick="cancelFromCart(5)" disabled>Cancel</button>
        </div>


 <!-- Product 6 -->
        <div class="product">
            <img src="images/pencil.jpg">
            <h3>Target Pencil</h3>
            <p>₱6.00</p>
            <p>Stock: <span id="stock-product-6">10</span></p>
            <input type="number" id="qty-product-6" min="1" max="10" value="1">
            <button id="btn-product-6" onclick="addToCart('Pencil', 6, 6)">Add to Cart</button>
            <button id="cancel-product-6" onclick="cancelFromCart(6)" disabled>Cancel</button>
        </div>

 <!-- Product 7 -->
        <div class="product">
            <img src="images/stickerpaper.jpg">
            <h3>Sticker Paper</h3>
            <p>₱10.00</p>
            <p>Stock: <span id="stock-product-7">10</span></p>
            <input type="number" id="qty-product-7" min="1" max="10" value="1">
            <button id="btn-product-7" onclick="addToCart('Sticker Ppr', 10, 7)">Add to Cart</button>
            <button id="cancel-product-7" onclick="cancelFromCart(7)" disabled>Cancel</button>
        </div>

 <!-- Product 8 -->
        <div class="product">
            <img src="images/blackclip.jpg">
            <h3>Black Clip (Small)</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-8">3</span></p>
            <input type="number" id="qty-product-8" min="1" max="3" value="1">
            <button id="btn-product-8" onclick="addToCart('Clip (S)', 5, 8)">Add to Cart</button>
            <button id="cancel-product-8" onclick="cancelFromCart(8)" disabled>Cancel</button>
        </div>

 <!-- Product 9 -->
        <div class="product">
            <img src="images/blackclip.jpg">
            <h3>Black Clip (Medium)</h3>
            <p>₱7.00</p>
            <p>Stock: <span id="stock-product-9">3</span></p>
            <input type="number" id="qty-product-9" min="1" max="3" value="1">
            <button id="btn-product-9" onclick="addToCart('Clip (M)', 7, 9)">Add to Cart</button>
            <button id="cancel-product-9" onclick="cancelFromCart(9)" disabled>Cancel</button>
        </div>

 <!-- Product 10 -->
        <div class="product">
            <img src="images/blackclip.jpg">
            <h3>Black Clip (Large)</h3>
            <p>₱10.00</p>
            <p>Stock: <span id="stock-product-10">3</span></p>
            <input type="number" id="qty-product-10" min="1" max="3" value="1">
            <button id="btn-product-10" onclick="addToCart('Clip (L)', 10, 10)">Add to Cart</button>
            <button id="cancel-product-10" onclick="cancelFromCart(10)" disabled>Cancel</button>
        </div>

 <!-- Product 11 -->
        <div class="product">
            <img src="images/scotch.jpg">
            <h3>Scotch Tape (Medium)</h3>
            <p>₱15.00</p>
            <p>Stock: <span id="stock-product-11">5</span></p>
            <input type="number" id="qty-product-11" min="1" max="5" value="1">
            <button id="btn-product-11" onclick="addToCart('Scotch(M)', 15, 11)">Add to Cart</button>
            <button id="cancel-product-11" onclick="cancelFromCart(11)" disabled>Cancel</button>
        </div>

 <!-- Product 12 -->
        <div class="product">
            <img src="images/sharpener.jpg">
            <h3>Sharpener</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-12">5</span></p>
            <input type="number" id="qty-product-12" min="1" max="5" value="1">
            <button id="btn-product-12" onclick="addToCart('Sharpener', 5, 12)">Add to Cart</button>
            <button id="cancel-product-12" onclick="cancelFromCart(12)" disabled>Cancel</button>
        </div>

 <!-- Product 13 -->
        <div class="product">
            <img src="images/glossysp.jpg">
            <h3>Glossy Sticker Paper</h3>
            <p>₱12.00</p>
            <p>Stock: <span id="stock-product-13">5</span></p>
            <input type="number" id="qty-product-13" min="1" max="5" value="1">
            <button id="btn-product-13" onclick="addToCart('Glossy Sticker', 12, 13)">Add to Cart</button>
            <button id="cancel-product-13" onclick="cancelFromCart(13)" disabled>Cancel</button>
        </div>

 <!-- Product 14 -->
        <div class="product">
            <img src="images/laminatelong.jpg">
            <h3>Laminating Film (Long)</h3>
            <p>₱35.00</p>
            <p>Stock: <span id="stock-product-14">5</span></p>
            <input type="number" id="qty-product-14" min="1" max="5" value="1">
            <button id="btn-product-14" onclick="addToCart('Laminating F(L)', 35, 14)">Add to Cart</button>
            <button id="cancel-product-14" onclick="cancelFromCart(14)" disabled>Cancel</button>
        </div>

 <!-- Product 15 -->
        <div class="product">
            <img src="images/laminateid.jpg">
            <h3>Laminating Film (ID-S)</h3>
            <p>₱5.00</p>
            <p>Stock: <span id="stock-product-15">5</span></p>
            <input type="number" id="qty-product-15" min="1" max="5" value="1">
            <button id="btn-product-15" onclick="addToCart('Laminating ID(S)', 5, 15)">Add to Cart</button>
            <button id="cancel-product-15" onclick="cancelFromCart(15)" disabled>Cancel</button>
        </div>

 <!-- Product 16 -->
        <div class="product">
            <img src="images/laminateid.jpg">
            <h3>Laminating Film (ID-M)</h3>
            <p>₱8.00</p>
            <p>Stock: <span id="stock-product-16">5</span></p>
            <input type="number" id="qty-product-16" min="1" max="5" value="1">
            <button id="btn-product-16" onclick="addToCart('Laminating ID(M)', 8, 16)">Add to Cart</button>
            <button id="cancel-product-16" onclick="cancelFromCart(16)" disabled>Cancel</button>
        </div>








    </div>
<center>
    <div class="cart" style="width:300px;">
        <h2>Shopping Cart</h2>
        <ul id="cart-list">
            <!-- Items will be added here -->
        </ul>
	<p>Service/Shipping Fee: ₱1.00</p>
        <p id="total-price">Total: ₱0.00</p>

        <button id="checkoutbutton" class="checkout-btn" onclick="checkout()" style="width:50%;">Checkout</button>
    </div>
</center>

<center>
<div id="details" style="width:300px;background:yellow;padding:10px;border-radius:15px;display:none;">
<h3>CUSTOMER DETAILS</h3>
    <form id="telegramForm">
        <label for="text">Customer Name:</label><br>
        <input type="text" id="name" name="text" required><br><br>

	<label for="text">Address:</label><br>
        <input type="text" id="address" name="text" required><br><br>


        <label for="number">Mobile Number:</label><br>
        <input type="number" id="number" name="number" required oninput="if(this.value.length > 11) this.value = this.value.slice(0, 11);"><br><br>

        <button id="placebutton" class="checkout-btn" type="submit" style="background:orange;width:50%;">Place Order</button>
<p id="words"></p>
    </form>
</div>
</center>

</body>
    <script>
        let cart = [];
        let totalPrice = 0;
        let stocks = { 1: 10, 2: 10, 3: 5, 4:4, 5:2, 6:10, 7:10, 8:3, 9:3, 10:3, 11:5, 12:5, 13:5, 14:5, 15:5, 16:5, }; // Initial stock levels

        function addToCart(productName, price, productId) {
            const qtyInput = document.getElementById(`qty-product-${productId}`);
            const qty = parseInt(qtyInput.value);
            const addToCartButton = document.getElementById(`btn-product-${productId}`);
            const cancelButton = document.getElementById(`cancel-product-${productId}`);

            if (stocks[productId] >= qty) {
                stocks[productId] -= qty; // Deduct stock
                cart.push({ id: productId, name: productName, perprice: price, price: price * qty, qty: qty });
                totalPrice += price * qty;

                updateStockUI(productId);
                updateCartUI();

                addToCartButton.disabled = true;
                cancelButton.disabled = false; // Enable cancel button
            } else {
                alert('Not enough stock available!');
            }
        }

        function cancelFromCart(productId) {
            const cancelButton = document.getElementById(`cancel-product-${productId}`);
            const addToCartButton = document.getElementById(`btn-product-${productId}`);

            // Find and remove the product from the cart
            const productIndex = cart.findIndex(item => item.id === productId);
            if (productIndex !== -1) {
                const product = cart[productIndex];
                stocks[productId] += product.qty; // Restore stock
                totalPrice -= product.price;

                cart.splice(productIndex, 1); // Remove product from cart

                updateStockUI(productId);
                updateCartUI();

                addToCartButton.disabled = false; // Re-enable Add to Cart button
                cancelButton.disabled = true; // Disable Cancel button
            }
        }

        function updateStockUI(productId) {
            document.getElementById(`stock-product-${productId}`).textContent = stocks[productId];
        }

        function updateCartUI() {
            const cartList = document.getElementById('cart-list');
            cartList.innerHTML = ''; // Clear existing items
            cart.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `\n${item.name} - ₱${item.perprice} (x${item.qty}) - ₱${item.price.toFixed(2)}`;
                cartList.appendChild(li);
            });
		const totalPrice1 = totalPrice+1;//SHIPPING FEE IS 1.
            document.getElementById('total-price').textContent = `Total: ₱${totalPrice1.toFixed(2)}`;
        }

        function checkout() {//open
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            if (cart.length !== 0) {
		document.getElementById('checkoutbutton').disabled = true;
		details.style.display="block";
            alert('Checkout successful! Total: ₱' + totalPrice.toFixed(2));
		}
           // cart = [];
            //totalPrice = 0;
           // updateCartUI();

            // Re-enable all Add to Cart buttons and disable all Cancel buttons
           // for (let productId in stocks) {
             //   document.getElementById(`btn-product-${productId}`).disabled = false;
             //   document.getElementById(`cancel-product-${productId}`).disabled = true;
          //  }
        }//close 

//TELEGRAM OPEN 
// Replace with your Telegram bot's token and chat ID
        const BOT_TOKEN = "7870251548:AAGRB3mWjbj0NMmhZ_PsBxWXV0O13UMuWy8";
        const CHAT_ID = "5208891145";

        document.getElementById("telegramForm").addEventListener("submit", function(event) {
            event.preventDefault();
document.getElementById('placebutton').disabled = true;

            const name = document.getElementById("name").value;
            const address = document.getElementById("address").value;
            const number = document.getElementById("number").value;
            //const number2 = document.getElementById("number2").value;
            const text = document.getElementById('cart-list').textContent;
	    const total = document.getElementById('total-price').textContent;

	document.getElementById('words').textContent = "We will sent you an order update.Thank you for shopping with us! ";
            // Re-enable all Add to Cart buttons and disable all Cancel buttons
            for (let productId in stocks) {//open
                document.getElementById(`btn-product-${productId}`).disabled = true;
                document.getElementById(`cancel-product-${productId}`).disabled = true;
            }//close

            const fullMessage = `.\n\nFrom: One Click Store\nCustomer: ${name}\nAddress: ${address}\nNumber: ${number}\n----------------------------------- \nOrdered Items:\n${text}\nService/Shipping Fee - ₱1.00\n\n${total}\n\n-----------------------------------\nCompany Address: Bonbon Upper, Loboc, Bohol\nSuggest Products Through:\nContact Us: 09941101238\nFB Page: One Click Store\n\nTHANK YOU FOR SHOPPING WITH US!`;

            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: fullMessage
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.ok) {
                    alert("Message sent to One Click Store!");
                } else {
                    alert("Failed to send message.");
                }
            })
            .catch(error => {
                console.error("Error:", error);
                alert("An error occurred.");
            });
        });

//TELEGRAM CLOSE







    </script>

</html>
